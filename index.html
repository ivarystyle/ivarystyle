<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ivari Style - Catálogo de Maquillaje</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">

</head>
<body>

<header>
  <h1>Ivari Style</h1>
  <p>Bienvenido a nuestro catálogo de maquillaje</p>
  <p>Descubre nuestros productos para resaltar tu belleza</p>
</header>

<div class="categorias">
  <div class="categoria" data-categoria="labiales">Labiales</div>
  <div class="categoria" data-categoria="sombras">Sombras</div>
  <div class="categoria" data-categoria="bases">Bases</div>
  <div class="categoria" data-categoria="todas">Todas</div>
</div>

<div class="productos">
  <div class="producto labiales" data-nombre="Labial Líquido Nude" data-precio="25">
    <img src="labial.jpg" alt="Labial Líquido Nude">
    <strong>Labial Líquido Nude</strong>
    <p>Acabado mate, color duradero y suave para todos los tonos de piel.</p>
    <a class="whatsapp"><img src="whatsapp-icon.png" style="width:20px;margin-right:5px;">Agregar al carrito</a>
  </div>

  <div class="producto sombras" data-nombre="Paleta de Sombras Brillantes" data-precio="40">
    <img src="sombras.jpg" alt="Paleta de Sombras Brillantes">
    <strong>Paleta de Sombras Brillantes</strong>
    <p>12 tonos intensos para crear looks únicos, desde natural hasta glam.</p>
    <a class="whatsapp"><img src="whatsapp-icon.png" style="width:20px;margin-right:5px;">Agregar al carrito</a>
  </div>

  <div class="producto bases" data-nombre="Base Líquida Natural" data-precio="35">
    <img src="base.jpg" alt="Base Líquida Natural">
    <strong>Base Líquida Natural</strong>
    <p>Textura ligera que cubre imperfecciones y unifica el tono de piel.</p>
    <a class="whatsapp"><img src="whatsapp-icon.png" style="width:20px;margin-right:5px;">Agregar al carrito</a>
  </div>
</div>

<div class="contact-buttons">
  <a href="https://wa.me/51935923064" target="_blank" class="whatsapp">WhatsApp</a>
  <a href="https://instagram.com/tu_usuario" target="_blank" class="instagram">Instagram</a>
</div>

<footer>
  © 2026 Ivari Style. Todos los derechos reservados.
</footer>

<!-- CARRITO FLOTANTE -->
<div id="carrito">
  <h3>Tu carrito</h3>
  <ul></ul>
  <div class="total"></div>
  <p id="carrito-vacio" style="display:none;text-align:center;color:#999;">Tu carrito está vacío</p>
  <button id="enviarWhatsApp">Enviar a WhatsApp</button>
</div>

<!-- NOTIFICACIÓN -->
<div id="notificacion">Producto agregado</div>

<script>
  const botonesCategoria = document.querySelectorAll('.categoria');
  const productos = document.querySelectorAll('.producto');
  const carritoDiv = document.getElementById('carrito');
  const listaCarrito = carritoDiv.querySelector('ul');
  const totalDiv = carritoDiv.querySelector('.total');
  const enviarBtn = document.getElementById('enviarWhatsApp');
  const notificacion = document.getElementById('notificacion');

  let carrito = [];

  // FILTRO POR CATEGORÍA
  botonesCategoria.forEach(boton => {
    boton.addEventListener('click', () => {
      const cat = boton.dataset.categoria;
      productos.forEach(p => {
        p.style.display = (cat === 'todas' || p.classList.contains(cat)) ? 'block' : 'none';
      });
    });
  });

  // ANIMACIÓN DE APARICIÓN
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if(entry.isIntersecting) entry.target.classList.add('visible');
    });
  }, { threshold: 0.1 });

  productos.forEach((p, i) => {
    observer.observe(p);
    p.style.transitionDelay = `${i * 0.1}s`;
  });

  // AGREGAR AL CARRITO
  document.querySelectorAll('.producto .whatsapp').forEach(btn => {
    btn.addEventListener('click', () => {
      const producto = btn.closest('.producto');
      const nombre = producto.dataset.nombre;
      const precio = parseFloat(producto.dataset.precio);

      const index = carrito.findIndex(item => item.nombre === nombre);
      if(index > -1){
        carrito[index].cantidad += 1;
      } else {
        carrito.push({nombre, precio, cantidad:1});
      }

      actualizarCarrito();
      mostrarNotificacion();
    });
  });

  function actualizarCarrito() {
    listaCarrito.innerHTML = '';
    let total = 0;
    carrito.forEach((item, i) => {
      const li = document.createElement('li');
      li.innerHTML = `<span class="cantidad">${item.cantidad}x</span> ${item.nombre} - S/ ${item.precio.toFixed(2)} 
                      <button class="eliminar" data-index="${i}">&times;</button>`;
      listaCarrito.appendChild(li);
      total += item.precio * item.cantidad;
    });

    totalDiv.textContent = `Total: S/ ${total.toFixed(2)}`;

    if(carrito.length === 0){
      carritoDiv.style.display = 'none';
      document.getElementById('carrito-vacio').style.display = 'block';
    } else {
      carritoDiv.style.display = 'flex';
      document.getElementById('carrito-vacio').style.display = 'none';
    }

    // BOTONES ELIMINAR
    document.querySelectorAll('#carrito .eliminar').forEach(btn => {
      btn.addEventListener('click', () => {
        carrito.splice(btn.dataset.index, 1);
        actualizarCarrito();
      });
    });
  }

  // NOTIFICACIÓN AGREGADO
  function mostrarNotificacion(){
    notificacion.style.display = 'block';
    setTimeout(()=>{notificacion.style.display='none'},1500);
  }

  // ENVIAR CARRITO A WHATSAPP
  enviarBtn.addEventListener('click', () => {
    if(carrito.length === 0) return;
    let mensaje = 'Hola, quiero comprar:\n';
    carrito.forEach(item => {
      mensaje += `- ${item.nombre} x${item.cantidad} (S/ ${item.precio.toFixed(2)})\n`;
    });
    let total = carrito.reduce((acc, item) => acc + item.precio * item.cantidad, 0);
    mensaje += `Total: S/ ${total.toFixed(2)}`;
    window.open(`https://wa.me/51935923064?text=${encodeURIComponent(mensaje)}`, '_blank');
  });
</script>

</body>
</html>
