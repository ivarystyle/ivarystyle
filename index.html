<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Ivari Style - Catálogo de Maquillaje</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
  <h1>Ivari Style</h1>
  <p>Bienvenido a nuestro catálogo de maquillaje</p>
  <p>Descubre productos que resaltan tu estilo</p>
</header>

<div class="categorias">
  <div class="categoria" data-categoria="labiales">Labiales</div>
  <div class="categoria" data-categoria="sombras">Sombras</div>
  <div class="categoria" data-categoria="bases">Bases</div>
  <div class="categoria" data-categoria="rimel">rimel</div>
  <div class="categoria" data-categoria="todas">Todas</div>
</div>

<div class="productos">

  <!-- Labial Meneito -->
  <div class="producto labiales" data-nombre="Labial Meneito" data-precio="8">
    <a href="img/labial - meneito.jpeg" target="_blank">
      <img src="img/labial - meneito.jpeg" alt="Labial Meneito" width="200">
    </a>
    <strong>Labial Meneito</strong>
    <p>Labial efecto Velvet con alta pigmentación.</p>
    <a class="whatsapp">
      <img src="img/whatsapp-icon.png" style="width:20px;margin-right:5px;">
      Agregar al carrito
    </a>
  </div>


  <!-- Base Bunny -->
  <div class="producto bases" data-nombre="Base Bunny" data-precio="12">
    <a href="img/base - bunny.jpeg" target="_blank">
      <img src="img/base - bunny.jpeg" alt="Base Bunny">
    </a>
    <strong>Base Bunny</strong>
    <p>Base de alta cobertura, acabado natural y larga duración.</p>
    <a class="whatsapp">
      <img src="img/whatsapp-icon.png" style="width:20px;margin-right:5px;">
      Agregar al carrito
    </a>
  </div>

  <!-- Rimel Magnetic Lash -->
  <div class="producto rimel" data-nombre="Rímel Magnetic Lash" data-precio="6.5">
    <a href="img/rimel - magnitic lash.jpeg" target="_blank">
      <img src="img/rimel - magnitic lash.jpeg" alt="Rímel Magnetic Lash">
    </a>
    <strong>Rímel Magnetic Lash</strong>
    <p>Rímel transparente de larga duración que define y fija sin dejar residuos.</p>
    <a class="whatsapp">
      <img src="img/whatsapp-icon.png" style="width:20px;margin-right:5px;">
      Agregar al carrito
    </a>
  </div>

    <!-- Labial Besame 2 en 1 -->
  <div class="producto labial" data-nombre="Labial Besame 2 en 1" data-precio="7">
    <a href="img/labial - besame 2 en 1.jpeg" target="_blank">
      <img src="img/labial - besame 2 en 1.jpeg" alt="Labial Besame 2 en 1">
    </a>
    <strong>Labial Besame 2 en 1</strong>
    <p>combina color y brillo para tus labios, fácil de usar, ideal si quieres un producto versátil para maquillaje diario.</p>
    <a class="whatsapp">
      <img src="img/whatsapp-icon.png" style="width:20px;margin-right:5px;">
      Agregar al carrito
    </a>
  </div>

</div>


<div class="contact-buttons">
  <a href="https://wa.me/51935923064" target="_blank" class="whatsapp">WhatsApp</a>
  <a href="https://instagram.com/tu_usuario" target="_blank" class="instagram">Instagram</a>
</div>

<footer>
  © 2026 Ivari Style. Todos los derechos reservados.
</footer>

<!-- CARRITO FLOTANTE -->
<div id="carrito">
  <h3>Tu carrito</h3>
  <ul></ul>
  <div class="total"></div>
  <p id="carrito-vacio" style="display:none;text-align:center;color:#999;">Tu carrito está vacío</p>
  <button id="enviarWhatsApp">Enviar a WhatsApp</button>
</div>

<!-- NOTIFICACIÓN -->
<div id="notificacion">Producto agregado</div>

<script>
  const botonesCategoria = document.querySelectorAll('.categoria');
  const productos = document.querySelectorAll('.producto');
  const carritoDiv = document.getElementById('carrito');
  const listaCarrito = carritoDiv.querySelector('ul');
  const totalDiv = carritoDiv.querySelector('.total');
  const enviarBtn = document.getElementById('enviarWhatsApp');
  const notificacion = document.getElementById('notificacion');

  let carrito = [];

  // FILTRO POR CATEGORÍA
  botonesCategoria.forEach(boton => {
    boton.addEventListener('click', () => {
      const cat = boton.dataset.categoria;
      productos.forEach(p => {
        p.style.display = (cat === 'todas' || p.classList.contains(cat)) ? 'block' : 'none';
      });
    });
  });

  // ANIMACIÓN DE APARICIÓN
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if(entry.isIntersecting) entry.target.classList.add('visible');
    });
  }, { threshold: 0.1 });

  productos.forEach((p, i) => {
    observer.observe(p);
    p.style.transitionDelay = `${i * 0.1}s`;
  });

  // AGREGAR AL CARRITO
  document.querySelectorAll('.producto .whatsapp').forEach(btn => {
    btn.addEventListener('click', () => {
      const producto = btn.closest('.producto');
      const nombre = producto.dataset.nombre;
      const precio = parseFloat(producto.dataset.precio);

      const index = carrito.findIndex(item => item.nombre === nombre);
      if(index > -1){
        carrito[index].cantidad += 1;
      } else {
        carrito.push({nombre, precio, cantidad:1});
      }

      actualizarCarrito();
      mostrarNotificacion();
    });
  });

  function actualizarCarrito() {
    listaCarrito.innerHTML = '';
    let total = 0;
    carrito.forEach((item, i) => {
      const li = document.createElement('li');
      li.innerHTML = `<span class="cantidad">${item.cantidad}x</span> ${item.nombre} - S/ ${item.precio.toFixed(2)} 
                      <button class="eliminar" data-index="${i}">&times;</button>`;
      listaCarrito.appendChild(li);
      total += item.precio * item.cantidad;
    });

    totalDiv.textContent = `Total: S/ ${total.toFixed(2)}`;

    if(carrito.length === 0){
      carritoDiv.style.display = 'none';
      document.getElementById('carrito-vacio').style.display = 'block';
    } else {
      carritoDiv.style.display = 'flex';
      document.getElementById('carrito-vacio').style.display = 'none';
    }

    // BOTONES ELIMINAR
    document.querySelectorAll('#carrito .eliminar').forEach(btn => {
      btn.addEventListener('click', () => {
        carrito.splice(btn.dataset.index, 1);
        actualizarCarrito();
      });
    });
  }

  // NOTIFICACIÓN AGREGADO
  function mostrarNotificacion(){
    notificacion.style.display = 'block';
    setTimeout(()=>{notificacion.style.display='none'},1500);
  }

  // ENVIAR CARRITO A WHATSAPP
  enviarBtn.addEventListener('click', () => {
    if(carrito.length === 0) return;
    let mensaje = 'Hola, quiero comprar:\n';
    carrito.forEach(item => {
      mensaje += `- ${item.nombre} x${item.cantidad} (S/ ${item.precio.toFixed(2)})\n`;
    });
    let total = carrito.reduce((acc, item) => acc + item.precio * item.cantidad, 0);
    mensaje += `Total: S/ ${total.toFixed(2)}`;
    window.open(`https://wa.me/51935923064?text=${encodeURIComponent(mensaje)}`, '_blank');
  });
</script>

</body>
</html>
